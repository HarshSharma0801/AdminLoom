<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <title>AdminLoom</title>
  </head>
  <body>
    <!-- Navbar -->
    <nav class="bg-[#0A1D56] p-4">
      <div class="container mx-auto flex items-center justify-between">
        <!-- Logo -->
        <div class="text-white text-xl md:text-2xl font-semibold">
          <img src="../Admin-icon.png" alt="Logo" class="h-8 mr-2 inline" />
         <a href="../Table/Table.html">AdminLoom</a> 
        </div>
        <div class="flex md:gap-3 gap-4">
          <a
          href="../View/view.html"

          id="ViewUser"
          class="bg-white text-blue-500 px-4 py-2 rounded-full"
        >
          View
        </a>
        <a
        href="../Create/Create.html"
          id="CreateUser"
          class="bg-white text-blue-500 px-4 py-2 rounded-full"
        >
          Create
    </a>
        </div>
       
      </div>
    </nav>
<div class="flex justify-center">
    <div class=" bg-white p-8 rounded shadow-md w-96">
        <h2 class="text-2xl font-semibold mb-6"> Create User</h2>
    
        <form id="loginForm">
          <div class="mb-4">
            <label for="userID" class="block text-gray-600 text-sm font-medium mb-2">User ID</label>
            <input type="text" id="userID" name="userID" class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:border-blue-500">
          </div>
    
          <div class="mb-6">
            <label for="password" class="block text-gray-600 text-sm font-medium mb-2">Password</label>
            <input type="text" id="password" name="password" class="w-full border border-gray-300 p-2 rounded focus:outline-none focus:border-blue-500">
          </div>
    
          <button type="button" onclick={CreateUser()} class="w-full bg-[#0A1D56] text-white p-2 rounded hover:bg-[#0A1D56] focus:outline-none focus:ring focus:border-[#0A1D56]">Create</button>
        </form>
      </div>


    

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
      const createEndpoint = "http://localhost:5000/CreateUser";
      


        const CreateUser  = async () => {
            const userID = document.getElementById('userID').value;
      const password = document.getElementById('password').value;
          console.log(userID);
          try {
           
            await axios.post(createEndpoint ,   {
                    userId : userID,
                    password: password
                }).then((res) => {
              if (res.data.valid) {
                console.log("User created:");
                window.location.href = '../Table/Table.html'
              }
            });
          } catch (error) {
            console.error("Error creating user:", error.message);
          }
        }

      

    </script>
  </body>
</html>
